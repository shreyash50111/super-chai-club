<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Chai Club - Jaggery Chai Excellence</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;600;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #D4A574;
            --dark: #5c4a3a;
            --accent: #FF6B35;
            --light: #FFF5E6;
            --gold: #FFD700;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--dark);
            color: var(--light);
            overflow-x: hidden;
        }

        html { scroll-behavior: auto; } /* Let GSAP ScrollTo handle smoothing */

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 5%;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(26, 15, 10, 0.95);
            backdrop-filter: blur(10px);
        }

        .logo { font-family: 'Playfair Display', serif; font-size: 2rem; font-weight: 900; color: var(--light); }
        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-links a { color: var(--light); text-decoration: none; font-weight: 600; text-transform: uppercase; }

        /* Hero & Video */
        .hero {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: #000;
        }

        .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .hero-title { font-family: 'Playfair Display', serif; font-size: clamp(3rem, 8vw, 7rem); margin-bottom: 1rem; }

        /* Generic Sections for Scrolling */
        section { padding: 100px 5%; min-height: 80vh; }
        .section-title { font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--primary); text-align: center; margin-bottom: 50px; }

        /* Feature Cards */
        .cards-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: rgba(255,255,255,0.1); padding: 40px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2); }

        /* Preloader */
        .preloader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100vh;
            background: var(--dark);
            display: flex; align-items: center; justify-content: center;
            z-index: 10000;
        }
        .preloader-text { font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--primary); }

        /* Mobile Menu */
        .menu-toggle { display: none; flex-direction: column; gap: 5px; cursor: pointer; }
        .menu-toggle span { width: 25px; height: 3px; background: var(--primary); }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            .menu-toggle { display: flex; }
        }
    </style>
</head>
<body>

    <div class="preloader">
        <div class="preloader-text">SUPER CHAI CLUB</div>
    </div>

    <nav>
        <div class="logo">SCC</div>
        <div class="menu-toggle"><span></span><span></span><span></span></div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#features">About</a></li>
            <li><a href="#menu">Menu</a></li>
        </ul>
    </nav>

    <section id="home" class="hero">
        <video class="hero-video" muted playsinline preload="auto">
            <source src="tea.mp4" type="video/mp4">
        </video>
        <div class="hero-content">
            <h1 class="hero-title">SUPER CHAI CLUB</h1>
            <p>Jaggery Perfection</p>
        </div>
    </section>

    <section id="features" class="features">
        <h2 class="section-title">Why We're Different</h2>
        <div class="cards-container">
            <div class="card"><h3>Zero Sugar</h3><p>Pure organic jaggery only.</p></div>
            <div class="card"><h3>Fresh Ginger</h3><p>Handpicked and brewed fresh.</p></div>
            <div class="card"><h3>Traditional</h3><p>Time-honored brewing techniques.</p></div>
        </div>
    </section>

    <section id="menu" style="background: #4a3c2f;">
        <h2 class="section-title">Our Menu</h2>
        <div style="text-align: center; font-size: 1.5rem;">
            <p>Jaggery Tea • Ginger Tea • Osmania Biscuits</p>
        </div>
    </section>

    <footer style="padding: 50px; text-align: center; background: #2b2118;">
        <p>© 2024 Super Chai Club</p>
    </footer>

<script>
    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

    const video = document.querySelector('.hero-video');
    const preloader = document.querySelector('.preloader');

    // 1. Preloader Logic
    window.addEventListener('load', () => {
        gsap.to(preloader, {
            autoAlpha: 0,
            duration: 1,
            onComplete: () => preloader.style.display = 'none'
        });
    });

    // 2. Navigation Smooth Scroll
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const target = link.getAttribute('href');
            gsap.to(window, { duration: 1, scrollTo: target, ease: "power2.inOut" });
        });
    });

    // 3. --- VIDEO SCRUBBING LOGIC (NATIVE SCROLL) ---
    if (video) {
        const duration = 4; // Hard-coded video length
        const scrollDistance = 2000; // Total pixels to scroll to finish video

        // Force browser to "wake up" the video for seeking
        video.currentTime = 0;
        video.pause();

        ScrollTrigger.create({
            trigger: ".hero",
            start: "top top",
            end: `+=${scrollDistance}`,
            pin: true,
            scrub: true,
            markers: true, // Keep on to verify the "Start/End" triggers
            onUpdate: (self) => {
                // Manually calculate time: Progress (0 to 1) * Duration (4s)
                const targetTime = self.progress * duration;
                
                // Only update if video is ready to prevent flickering
                if (video.readyState >= 2) {
                    video.currentTime = targetTime;
                }
            }
        });
    }

    // 4. Simple Reveal Animations
    gsap.from(".card", {
        scrollTrigger: {
            trigger: ".features",
            start: "top 80%"
        },
        y: 50,
        opacity: 0,
        stagger: 0.2,
        duration: 1
    });
</script>

</body>
</html>
